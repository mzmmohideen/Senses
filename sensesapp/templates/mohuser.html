<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="{{STATIC_URL}}images/favicon.ico">
    <title>Mohalla Dashboard</title>
    <!-- Bootstrap core CSS -->
    <link href="{{STATIC_URL}}bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="{{STATIC_URL}}font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="{{STATIC_URL}}css/select.css" rel="stylesheet">
    <link href="{{STATIC_URL}}bootstrap/dashboard/css/sb-admin-2.css" rel="stylesheet">
    <link href="{{STATIC_URL}}bootstrap/dashboard/css/timeline.css" rel="stylesheet">
    <link href="{{STATIC_URL}}js/angular/angular-csp.css" rel="stylesheet">
    <link href="{{STATIC_URL}}metisMenu/metisMenu.css" rel="stylesheet">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/select2/3.4.5/select2.css">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.8.5/css/selectize.default.css">
    <style type="text/css">
        .menu { margin-left:25px; color:black; font-weight:normal; }
        .menu:hover { cursor:pointer; }
        .sel:hover { cursor:default; }
        .sel { background-color: #EEEEEE; font-weight:bold; }
    </style>
    <style type="text/css">
    .select2 > .select2-choice.ui-select-match {
        /* Because of the inclusion of Bootstrap */
        height: 29px;
    }
    
    .selectize-control > .selectize-dropdown {
        top: 36px;
    }
    </style>
</head>
{% verbatim %}
<body ng-cloak class="ng-cloak" ng-app="mohalla_user">
    <div id="wrapper" ng-controller="MohallaUserCtrl">
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" style="color: #484747;font-size: 23px;" href="#">Census app</a>
            </div>
            <button style="float:right;margin: 10px;background-color:red;color:white" class="btn btn-default" type="button" ng-click="user_logout()"><i class="fa fa-sign-out"></i>&nbsp;&nbsp;&nbsp;Logout</button>
            <span style="float:right;margin-top:20px;">Welcome! {{muhalla_values.uname}}.</span>
            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav in" style="margin-left:-10%" id="side-menu">
                        <li class="menu">
                            <a ng-click="reportbt=false" href="#/muhalla"><i class="fa fa-building"></i>&nbsp;&nbsp;&nbsp;&nbsp;Muhalla</a>
                        </li>                        
                        <li class="menu">
                            <a ng-click="reportbt=false" href="#/family_members"><i class="fa fa-users"></i>&nbsp;&nbsp;&nbsp;&nbsp;Family Members</a>
                        </li>
                        <li class="menu">
                            <a ng-click="reportbt=false" href="#/settings"><i class="side_icon fa fa-gear fa-fw"></i>&nbsp;&nbsp;&nbsp;Settings</a>
                        </li>
                        <li class="menu">
                            <a ng-click="reportbt=true" href="#/reports"><i class="fa fa-file-o"></i>&nbsp;&nbsp;&nbsp;Reports</a>
                        </li>
                    </ul>           
                </div>
                <div ng-show="reportbt">                    
                        <div ng-show="medical_needers || voter_status_dt || govt_needers || service_needers || edu_needers" style="margin-left:15px;margin-top:15px;">
                            <span style="text-decoration:none">Age</span>  <input ng-model="ReportDatas.age_from" style="width:37%" type="text" placeholder="From"> - <input ng-model="ReportDatas.age_to" style="width:37%" type="text" placeholder="To">
                            <span style="cursor:pointer;" ng-click="ReportDatas.age_from='';ReportDatas.age_to=''"><i class="fa fa-times"></i></span> 
                        </div>
                        <div ng-show="medical_needers || voter_status_dt || govt_needers || service_needers || edu_needers" style="margin-left:15px;margin-top:15px;">
                            <span style="text-decoration:none">Gender</span> <select ng-model="ReportDatas.gender" ng-options="gen for gen in family_gender" style="width:60%;display:inline-block;margin-left:10%" class="form-control"><option value="">SELECT GENDER</option></select>
                            <span style="cursor:pointer;" ng-click="ReportDatas.gender='';"><i class="fa fa-times"></i></span> 
                        </div>
                        <div ng-show="govt_needers || service_needers || voter_status_dt || edu_needers" style="margin-left:15px;margin-top:15px;">
                            <span style="text-decoration:none">Marital Status</span>  <select style="width:53%;display:inline-block;" ng-model="ReportDatas.marital_status" ng-options="gen for gen in family_marital_status" class="form-control"><option value="">MARITAL STATUS</option>
                            </select> 
                            <span style="cursor:pointer;" ng-click="ReportDatas.marital_status='';"><i class="fa fa-times"></i></span>
                        </div>
                        <div ng-show="govt_needers || service_needers || edu_needers" style="margin-left:15px;margin-top:15px;">
                            <span style="text-decoration:none">Voter Status</span> &nbsp; <select ng-model="ReportDatas.voter_status" ng-options="gen for gen in fam_voter_status" style="width:55%;display:inline-block;" class="form-control"><option value="">VOTER ID?</option></select>
                            <span style="cursor:pointer;" ng-click="ReportDatas.voter_status='';"><i class="fa fa-times"></i></span>
                        </div>
                        <div ng-show="tot_fam_dt || medical_needers || govt_needers || service_needers || edu_needers" style="margin-left:15px;margin-top:15px;">
                            <span style="text-decoration:none">Financial Status</span> &nbsp; 
                            <select ng-model="ReportDatas.financial" ng-options="financial for financial in ['A - Well Settled','B - Full Filled','C - Middle Class','D - Poor','E - Very Poor']" style="width:45%;display:inline-block;" class="form-control">
                                <option value="">Status</option>
                            </select>
                            <span style="cursor:pointer;" ng-click="ReportDatas.financial='';"><i class="fa fa-times"></i></span>
                        </div>
                        <div ng-show="house_type_filter" style="margin-left:15px;margin-top:15px;">
                            <span style="text-decoration:none">House Type</span> &nbsp; 
                            <select ng-model="ReportDatas.house" ng-options="house for house in ['Rent','Own']" style="width:45%;display:inline-block;" class="form-control">
                                <option value="">House Type</option>
                            </select>
                            <span style="cursor:pointer;" ng-click="ReportDatas.house='';"><i class="fa fa-times"></i></span>
                        </div>
                        <div ng-show="tot_fam_jakath && !basic_needs" style="margin-left:15px;margin-top:15px;">
                            <span style="text-decoration:none">Financial Status</span> &nbsp; 
                            <select ng-model="ReportDatas.financial" ng-options="financial for financial in ['D - Poor','E - Very Poor']" style="width:45%;display:inline-block;" class="form-control">
                                <option value="">Status</option>
                            </select>
                            <span style="cursor:pointer;" ng-click="ReportDatas.financial='';"><i class="fa fa-times"></i></span>
                        </div>
                        <div ng-show="medical_needers" ng-init="getDisease('DISEASE')" style="margin-left:15px;margin-top:15px;">
                            <span style="text-decoration:none">Disease ID</span> &nbsp; 
                            <ui-select multiple style="display: inline-block;height: 34px;width: 90%;float: left;" reset-search-input="false" theme="bootstrap" ng-disabled="" ng-change="filter_disease_value(diseaseid_list)" ng-model="diseaseid_list">
                                <ui-select-match placeholder="Select Disease">{{$item.disease_id}}
                                </ui-select-match>
                                <ui-select-choices repeat="mod in disease_dict | filter:$select.search">
                                <div ng-bind-html="mod.name | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>
                        </div>    
                        <div ng-show="govt_needers" ng-init="getScheme();" style="margin-left:15px;margin-top:15px;">
                            <span style="text-decoration:none">SCHEME ID</span> &nbsp; 
                            <ui-select multiple style="display: inline-block;height: 34px;width: 90%;float: left;" reset-search-input="false" theme="bootstrap" ng-disabled="" ng-change="filter_scheme_value(schemeid_list)" ng-model="schemeid_list">
                                <ui-select-match placeholder="Select Scheme">{{$item.scheme_id}}
                                </ui-select-match>
                                <ui-select-choices repeat="mod in getSubScheme['Govt/ Other NGOs Related Schemes'] | filter:$select.search">
                                <div ng-bind-html="mod.sub | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>
                        </div>
                        <div ng-show="service_needers" ng-init="getService();" style="margin-left:15px;margin-top:15px;">
                            <span style="text-decoration:none">SERVICE ID</span> &nbsp; 
                            <ui-select multiple style="display: inline-block;height: 34px;width: 90%;float: left;" reset-search-input="false" theme="bootstrap" ng-disabled="" ng-change="filter_service_value(serviceid_list)" ng-model="serviceid_list">
                                <ui-select-match placeholder="Select Service">{{$item.service_id}}
                                </ui-select-match>
                                <ui-select-choices repeat="mod in getServices | filter:$select.search">
                                <div ng-bind-html="mod.service | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>
                        </div>
                        <div ng-show="edu_needers" ng-init="getScheme();" style="margin-left:15px;margin-top:15px;">
                            <span style="text-decoration:none">EDUCATION SCHEME ID</span> &nbsp; 
                            <ui-select multiple style="display: inline-block;height: 34px;width: 90%;float: left;" reset-search-input="false" theme="bootstrap" ng-disabled="" ng-change="filter_scheme_value(schemeid_list)" ng-model="schemeid_list">
                                <ui-select-match placeholder="Select Education Scheme">{{$item.scheme_id}}
                                </ui-select-match>
                                <ui-select-choices repeat="mod in getSubScheme['Education / Employment Related Services'] | filter:$select.search">
                                <div ng-bind-html="mod.sub | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>
                        </div>
                        <div style="margin-left:15px;margin-top:15px;">
                            <button ng-click="fetchReportAPI(ReportDatas,ReportValues)" class="btn-sm btn btn-primary" style="width:45%;float:left;"><i class="fa fa-filter"></i>Apply Filter</button>
                            <button ng-click="ReportDatas.age_from='';ReportDatas.age_to='';ReportDatas.gender='';ReportDatas.marital_status='';ReportDatas.voter_status='';ReportDatas.financial='';ReportDatas.financial='';" class="btn-sm btn btn-primary" style="width:45%;float:left;"><i class="fa fa-times"></i>Clear All</button>
                        </div>  
                </div>
            </div>
        </nav>    
        <div id="page-wrapper" style="min-height: 491px;" ng-view>
        </div>
        <!-- <div style="min-height: 491px;width:80%;float:left;margin-left:17%;margin-top:0px;" ng-view>
        </div>     -->
    </div>
    <script type="text/ng-template" id="settings.html">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Settings</h1>
            </div>
        </div>
        <div style="background-color: #FFF;padding: 20px;border-radius: 5px">
            <div style="text-align: center;color: #777;">
                <h1>Change Password</h1>
            </div>
            <div style="text-align: center;">
                <div style="margin-bottom: 10px;">
                    <input style="text-align: center;background-color: #ECF0F1;border: 2px solid transparent;border-radius: 5px;font-size: 16px;font-weight: 200;padding: 10px 0;width: 250px;transition: border .5s;" type="password" ng-model="get_password.curr_password" placeholder="&nbsp;&nbsp;&nbsp;Current Password">
                </div>
                <div style="margin-bottom: 10px;">
                    <input style="text-align: center;background-color: #ECF0F1;border: 2px solid transparent;border-radius: 5px;font-size: 16px;font-weight: 200;padding: 10px 0;width: 250px;transition: border .5s;" type="password" ng-model="get_password.re_password" placeholder="&nbsp;&nbsp;&nbsp;New Password">
                </div>
                <div style="margin-bottom: 10px;">
                    <input style="text-align: center;background-color: #ECF0F1;border: 2px solid transparent;border-radius: 5px;font-size: 16px;font-weight: 200;padding: 10px 0;width: 250px;transition: border .5s;" type="password" ng-model="get_password.password" placeholder="&nbsp;&nbsp;&nbsp;Re-type Password">
                </div>
                <div style="color:red;" ng-show="get_password.password != get_password.re_password && get_password.re_password && get_password.password">* Password Not Matching</div>
                <div style="width:250px;margin-left:38%;">
                <button ng-disabled="!get_password.curr_password || get_password.password != get_password.re_password || !get_password.re_password || !get_password.password" class="btn btn-primary btn-large btn-block" ng-click="change_password(muhalla_values.uname,get_password)">login</button>
                </div>
                
            </div>
        </div>        
    </script>
    <script type="text/ng-template" id="dashboard.html">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Dashboard</h1>
            </div>
        </div>        
    </script>
    <script type="text/ng-template" id="family_members.html">    
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Families</h1>
            </div>
        </div>
        <div ng-init="getMasjidData();getLocation();">
            <div class=" col-lg-12" style="padding-bottom: 34px;">
            <table style="width: 100%;">
            <tr>
                <td> <label for="male">DISTRICT *</label> </td>
                <td> <label for="male">TALUK *</label> </td>
                <td> <label for="male">MUHALLA *</label> </td>
                <td ng-show="!new_fam_bt"> <label for="male">Family New / Update</label> </td>
                <td ng-show="new_fam_bt"> <label for="male">Select Family ID</label> </td>
            </tr>
            <tr>
                <td><input style="display: inline-block;border-radius:2px;height: 34px;width: 97%;float: left;" class="form-control" type="text" ng-model="muhalla_values.district" readonly/>
                </td>
                <td><input style="display: inline-block;height: 34px;width: 97%;border-radius:2px;float: left;" class="form-control" type="text" ng-model="muhalla_values.taluk" readonly/>
                </td>
                <td><input style="display: inline-block;border-radius:2px;height: 34px;width: 100%;float: left;" class="form-control" type="text" ng-model="muhalla_values.mohalla" readonly/>
                    <!--<input style="display: inline-block;height: 34px;width: 25%;float: left;" class="form-control" type="text" ng-model="muhalla_values.mohalla_id" readonly/>-->
                </td>
                <td ng-show="!new_fam_bt">
                    <!--<button ng-disabled="!FamilyValue.masjid" type="submit" style="margin-left:5px; width:45%;height:34px;float: left;border-radius: 2px;" ng-click="add_new_family(FamilyValue)" class="btn-sm btn btn-primary"><i class="glyphicon glyphicon-plus"></i>New Family</button>-->
                    <button ng-disabled="!FamilyValue.masjid || !new_fam_bt" type="submit" style="margin-left:5px; width:45%;height:34px;float: left;border-radius: 2px;" ng-click="new_fam_bt=false" class="btn-sm btn btn-primary"><i class="glyphicon glyphicon-plus"></i>New Family</button>
                    <button ng-disabled="!FamilyValue.masjid" type="submit" style="margin-left:5px; float:left;width:45%;background-color: #f0ad4e;border-color: #f0ad4e;height: 34px;" ng-click="new_fam_bt=true;" class="btn-sm btn btn-primary">Update Family</button>
                </td>
                <td ng-show="new_fam_bt" >
                    <ui-select ng-disabled="!FamilyValue.masjid" style="display: inline-block;height: 34px;width: 65%;float: left;" on-select="familyid=FamilyValue.familyid;get_family(familyid)" reset-search-input="false" theme="bootstrap" ng-disabled="" ng-model="FamilyValue.familyid">
                        <ui-select-match placeholder="{{family_val| limitTocustom:25}}">{{family_val| limitTocustom:25}}</ui-select-match>
                        <ui-select-choices refresh="familyid=$select.search;get_family(familyid)" repeat="mod in familyList | filter:$select.search">
                            <div ng-bind-html="mod.family_id | highlight: $select.search"></div>
                        </ui-select-choices>
                    </ui-select>
                    <button ng-disabled="!FamilyValue.masjid" type="submit" style="background-color: #d9534f;border-color: #d9534f;width: 33%;height: 34px;float: left;border-radius: 2px;margin-left:5px;" ng-click="new_fam_bt=false;get_family();" class="btn-sm btn btn-primary"><i class="glyphicon glyphicon-plus"></i>New Family</button>
                </td>
            </tr>
            </table>
            </div>
            <div class=" col-lg-12" style="padding-bottom: 34px;">
                <table style="width: 100%;">
                <tr>
                <td><label for="male">Family Details:</label></td>
                </tr>
                <tr>
                <td><input style="display: inline-block;width: 97%;border-radius: 2px;height: 34px;float: left;" type="text" placeholder="Address *" ng-model="FamilyValue.address" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required"></td>
                <td><input style="display: inline-block;width: 97%;border-radius: 2px;height: 34px;float: left;" type="date" id="date_input" datepicker-popup="{{format}}" ng-model="FamilyValue.report_date" is-open="opened" min-date="minDate" max-date="maxDate" close-on-date-selection='false' datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" class="form-control"/></td>
                <td><input style="display: inline-block;width: 97%;border-radius: 2px;height: 34px;float: left;" type="text" placeholder="Mobile Number *" valid-number minlength="8" maxlength="20" ng-model="FamilyValue.mobile_no" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required"></td>
                <td><select style="display: inline-block;border-radius: 2px;height: 34px;width: 97%;float: left;" ng-model="FamilyValue.language" ng-options="house for house in ['Tamil','Urdu','Others']" class="form-control">
                    <option value="">Mother Tongue</option>
                </select></td>
                <td><input style="display: inline-block;width: 97%;border-radius: 2px;height: 34px;float: left;" type="text" placeholder="Ration Card Number" ng-model="FamilyValue.ration_card" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required"></td>
                <td><select style="display: inline-block;height: 34px;border-radius:2px;width: 98%;float: left;" ng-model="FamilyValue.house" ng-options="house for house in ['Rent','Own']" class="form-control">
                        <option value="">House</option>
                    </select></td>
                </tr>
                </table>
            </div>
            <div class=" col-lg-12" style="padding-bottom: 34px;">
                <table style="width: 100%;">
                <tr>
                    <td><input style="display: inline-block;width: 97%;border-radius: 2px;height: 34px;float: left;" type="text" placeholder="House Type" ng-model="FamilyValue.house_type" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required">
                        </td>
                    <td><select style="display: inline-block;height: 34px;width: 98%;border-radius:2px;float: left;" ng-model="FamilyValue.toilet" ng-options="toilet for toilet in ['Yes','No']" class="form-control">
                        <option value="">Toilet Available?</option>
                    </select></td>
                    <td><select style="display: inline-block;height: 34px;width: 98%;border-radius:2px;float: left;" ng-model="FamilyValue.financial" ng-options="financial for financial in ['A - Well Settled','B - Full Filled','C - Middle Class','D - Poor','E - Very Poor']" class="form-control">
                        <option value="">Financial Status</option>
                    </select></td>
                    <td><select style="display: inline-block;height: 34px;width: 98%;border-radius:2px;float: left;" ng-model="FamilyValue.health_insurance" ng-options="health for health in ['Yes','No']" class="form-control">
                        <option value="">Health Insurance Scheme Card Available?</option>
                    </select></td>                    
                    <td><input style="display: inline-block;width: 97%;border-radius: 2px;height: 34px;float: left;" type="text" placeholder="Any Emergency Needs in this Family?" ng-model="FamilyValue.family_needs" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required"></td>
                    <td ng-show="!new_fam_bt"><button ng-disabled="!FamilyValue.masjid || !FamilyValue.address || !FamilyValue.mobile_no" type="submit" style="float: left;width:98%;background-color: #f0ad4e;border-color: #f0ad4e;height: 34px;" ng-click="addFamily(family_val,FamilyValue,'new')" class="btn-sm btn btn-primary"><i class="glyphicon glyphicon-plus"></i>&nbsp;&nbsp;Create Family</button></td>                   
                    <td ng-show="new_fam_bt"><button ng-disabled="!FamilyValue.familyid" type="submit" style="float: left;width:98%;background-color: #f0ad4e;border-color: #f0ad4e;height: 34px;" ng-click="addFamily(family_val,FamilyValue,'update')" class="btn-sm btn btn-primary"><i class="glyphicon glyphicon-pencil"></i>&nbsp;&nbsp;Update Family</button></td>
                    <td ng-show="new_fam_bt"><button ng-disabled="!FamilyValue.familyid" type="submit" style="float: left;width:98%;background-color: #d9534f;border-color: #d9534f;height: 34px;" ng-confirm-click="Are you Sure you want to Delete?" confirmed-click="deleteFamily(family_val)" class="btn-sm btn btn-primary"><i class="glyphicon glyphicon-trash"></i>&nbsp; &nbsp;Delete Family</button></td>
                </tr>
                </table>                    
            </div>
        </div>    
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header" style="width: 97%; margin-left: 1%;">Members </h1>
            </div>
            <table style="margin-left: -25%;overflow-y:scroll;overflow-x:scroll;" class="table table-striped table-bordered table-hover ng-scope">
                <thead>
                    <tr>
                        <th style="width: 5%;text-align: center;">S.No</th>
                        <th style="text-align: center;">Name</th>
                        <th style="text-align: center;">Gender</th>
                        <th style="text-align: center;">Age</th>
                        <th style="text-align: center;">Date of Birth</th>
                        <th style="text-align: center;">Family Head?</th>
                        <th style="text-align: center;">Relationship</th>
                        <th style="text-align: center;">Qualification</th>
                        <th style="text-align: center;">Marital Status</th>
                        <th style="text-align: center;">Having Voter ID?</th>
                        <th style="text-align: center;">Occupation</th>
                        <th style="text-align: center;">Current Location</th>
                        <th style="text-align: center;">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="ng-scope">
                        <td><input type="text" placeholder="1" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required" readonly></td>
                        <td style="padding-left: 1px; padding-right: 1px;"><input type="text" placeholder="Name" ng-model="FamilyMember.name" style="font-size: 12px;width:178px; padding-left: 7px;" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required"></td>
                        <td style="padding-left: 1px; padding-right: 1px;"><select ng-model="FamilyMember.gender" ng-options="gen for gen in family_gender" style="font-size: 11px;width:80px;height: 29px;padding: 2px 0px 3px;" class="form-control">
                        </select></td>
                        <td><input style="width:45px;" ng-change="get_age_or_dob(FamilyMember,FamilyValue,'age')" type="text" placeholder="Age" valid-number minlength="1" maxlength="3" ng-model="FamilyMember.age" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required"></td>
                        <td><input style="width:135px;" ng-change="get_age_or_dob(FamilyMember,FamilyValue,'dob')" type="date" id="date_input" datepicker-popup="{{format}}" ng-model="FamilyMember.dateofbirth" is-open="opened" min-date="minDate" max-date="maxDate" close-on-date-selection='false' datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" class="form-control"/></td>
                        <td><select ng-model="FamilyMember.family_head" style="width:80px;"  ng-options="val for val in family_head_status" class="form-control">
                        </select></td>
                        <td><input type="text" style="padding-left: 3px;width:85px; padding-right: 1px;" placeholder="Relationship" ng-model="FamilyMember.relationship" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required"></td>
                        <td><input type="text" style="padding-left: 3px;width:85px; padding-right: 0px;" placeholder="Qualification" ng-model="FamilyMember.qualification" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required"></td>
                        <td style="padding-left: 1px; padding-right: 1px;"><select style="font-size: 10px; padding-left: 0px; padding-right: 0px; height: 29px;" ng-model="FamilyMember.marital_status" ng-options="gen for gen in family_marital_status" class="form-control">
                        </select></td>
                        <td style="padding-left: 5px; padding-right: 2px;"><select ng-model="FamilyMember.voter" ng-options="gen for gen in fam_voter_status" style="width:70px;" class="form-control">
                        </select></td>
                        <td><input type="text" style="padding-left: 2px;width:75px; padding-right: 2px;" placeholder="Occupation" ng-model="FamilyMember.occupation" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required"></td>
                        <td style="padding-left: 1px; padding-right: 1px;"><select ng-model="FamilyMember.location" ng-options="gen for gen in fam_mem_location" style="font-size: 10px; padding-left: 0px;width:75px; padding-right: 0px; height: 29px;" class="form-control">
                        </select></td>
                        <td><button ng-disabled="!FamilyValue.familyid" type="submit" ng-click="add_Familymembers(FamilyMember,FamilyValue,'new')" class="btn-sm btn btn-primary"><i class="glyphicon glyphicon-plus"></i>Add</button></td>
                    </tr>
                    <tr ng-show="FamilyMembersList.length==0">
                        <td colspan="13" style="text-align:center;" class="ng-binding">No Member Data Found!</td>
                    </tr>
                    <tr ng-show="!FamilyMembersList">
                        <td colspan="13" style="text-align:center;" class="ng-binding">Please Select Family First!</td>
                    </tr>
                    <tr ng-repeat="member in FamilyMembersList" class="ng-scope">
                        <td>{{$index+1}}</td>
                        <td class="ng-binding">
                            <span ng-show="!updateFamMem">{{member.name}}</span>
                            <input style="display: inline-block;height: 34px;width: 165px;float: left;" type="text" ng-show="updateFamMem" ng-model="member.name">
                        </td>
                        <td class="ng-binding">
                            <span ng-show="!updateFamMem">{{member.gender}}</span>
                            <select ng-show="updateFamMem" ng-model="member.gender" ng-options="gen for gen in ['MALE','FEMALE']" class="form-control">
                                <option value="">SELECT GENDER</option>
                            </select> 
                        </td>
                        <td class="ng-binding">
                            <span ng-show="!updateFamMem">{{member.age}}</span>
                            <input ng-change="get_age_or_dob(FamilyMember,FamilyValue,'age')" style="display: inline-block;height: 34px;width: 45px;text-align:center;float: left;" type="text" ng-show="updateFamMem" ng-model="member.age">
                        </td>
                        <td class="ng-binding">
                            <span ng-show="!updateFamMem">{{member.dateofbirth}}</span>
                            <input ng-change="get_age_or_dob(FamilyMember,FamilyValue,'dob')" ng-show="updateFamMem" style="display: inline-block;height: 34px;width: 135px;float: left;" type="date" id="date_input" datepicker-popup="{{format}}" ng-model="member.dateofbirth" is-open="opened" min-date="minDate" max-date="maxDate" close-on-date-selection='false' datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" class="form-control"/>
                        </td>
                        <td class="ng-binding">
                            <span ng-show="!updateFamMem">{{get_booleanval(member.family_head)}}</span>
                            <select ng-show="updateFamMem" ng-init="member.family_head=get_booleanval(member.family_head)" ng-model="member.family_head" ng-options="val for val in ['Yes','No']" class="form-control">
                                <option value="">FAMILY HEAD?</option>
                             </select>
                        </td>
                        <td class="ng-binding">
                            <span ng-show="!updateFamMem">{{member.relationship}}</span>
                            <input style="display: inline-block;height: 34px;width: 75px;float: left;" type="text" ng-show="updateFamMem" ng-model="member.relationship">
                        </td>
                        <td class="ng-binding">
                            <span ng-show="!updateFamMem">{{member.qualification}}</span>
                            <input style="display: inline-block;height: 34px;width: 95px;float: left;" type="text" ng-show="updateFamMem" ng-model="member.qualification">
                        </td>
                        <td class="ng-binding">
                            <span ng-show="!updateFamMem">{{member.marital_status}}</span>
                            <select ng-show="updateFamMem" ng-model="member.marital_status" ng-options="gen for gen in ['Married','Single','Widow','Devorced','Aged Unmarried Woman']" class="form-control">
                                <option value="">MARITAL STATUS</option>
                            </select>
                        </td>
                        <td class="ng-binding">
                            <span ng-show="!updateFamMem">{{get_booleanval(member.voter_status)}}</span>
                            <select ng-show="updateFamMem"  ng-init="member.voter_status=get_booleanval(member.voter_status)" ng-model="member.voter_status" ng-options="gen for gen in ['Yes','No']" class="form-control">
                                <option value="">VOTER ID?</option>
                            </select>    
                        </td>
                        <td class="ng-binding">
                            <span ng-show="!updateFamMem">{{member.occupation}}</span>
                            <input style="display: inline-block;height: 34px;width: 75px;float: left;" type="text" ng-show="updateFamMem" ng-model="member.occupation">
                        </td>
                        <td class="ng-binding">
                            <span ng-show="!updateFamMem">{{member.curr_location}}</span>
                            <select ng-show="updateFamMem" ng-model="member.curr_location" ng-options="gen for gen in ['Local','Outstation','Foreign']" class="form-control">
                                <option value="">LOCATION</option>
                            </select>
                        </td>
                        <td><a ng-click="Familymembersupdate(member.mem_id);" class="color-edit"><i class="fa fa-plus"></i>
                            <a ng-show="!updateFamMem" ng-click="updateFamMem=true" class="color-edit"><i class="glyphicon glyphicon-pencil"></i></a>
                            <a ng-show="updateFamMem" ng-click="updateFamMem=false;UpdateFamMember(member,'update')" class="color-edit"><i class="fa fa-check"></i></a>
                            <a ng-confirm-click="Are you Sure you want to Delete?" confirmed-click="UpdateFamMember(member,'delete')" class="color-delete"><i class="glyphicon glyphicon-trash"></i></a></td>
                    </tr>
                    <!-- end ngRepeat: cat in categorys track by $index| filter:searchText -->
                </tbody>
            </table>
        </div>
        <!-- /.row -->
    </script>
    <script type="text/ng-template" id="add_Familymembers_modal">
     <div ng-show="!next" id="add_watchlist_popup" style="">
            <div class="popup-header">
                <span style="margin-left:35%">Update Member Details {{Mem_ID}}</span>
                <span class="ng-modal-close" ng-click="cancel()"><i id="closing" style="font-size:14px;float:right;cursor:pointer;" class="fa fa-times"></i></span>
            </div>
             <form class="form-horizontal">
                        <div class="form-group" style="margin:5px;">
                            <label class="control-label col-xs-7">Volounteer?</label>
                            <div class="col-xs-5">
                                <select ng-model="MemberUpdate.volunteer" ng-options="volunteer for volunteer in ['Yes','No']" class="form-control">
                                    <option value="">Want to be a Volunteer?</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" style="margin:5px;">
                            <label class="control-label col-xs-7">Donor?</label>
                            <div class="col-xs-5">
                                <select ng-model="MemberUpdate.donor" ng-options="donor for donor in ['Yes','No']" class="form-control">
                                    <option value="">Willing to be a Financial Donor?</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" style="margin:5px;">
                            <label class="control-label col-xs-7">Namaz Status?</label>
                            <div class="col-xs-5">
                                <select ng-model="MemberUpdate.namaz" ng-options="n for n in ['5 Times a day','only Jumah','Not at All']" class="form-control">
                                    <option value="">Namaz Status</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" style="margin:5px;">
                            <label class="control-label col-xs-7">Quran Reading?</label>
                            <div class="col-xs-5">
                                <select ng-model="MemberUpdate.quran_reading" ng-options="k for k in ['Yes','No']" class="form-control">
                                    <option value="">Quran Reading</option>
                                </select>
                            </div>
                        </div>
                        <!--<div class="form-group" style="margin:5px;">
                            <label class="control-label col-xs-7">Mother Tongue</label>
                            <div class="col-xs-5">
                                <input class="form-control" type="text" ng-model="MemberUpdate.language" ng-change="clear_error()" placeholder="Mother Tongue" />
                            </div>
                        </div>
                        <div class="form-group" style="margin:5px;">
                            <label class="control-label col-xs-7">Mobile</label>
                            <div class="col-xs-5">
                                <input class="form-control" type="text" ng-model="MemberUpdate.mobile" ng-change="clear_error()" placeholder="Mobile Number" />
                            </div>
                        </div>-->
                        <div class="form-group" style="margin:5px;">
                            <label class="control-label col-xs-7">Interested to join Makthab Madarasa?</label>
                            <div class="col-xs-5">
                                <input type="radio" name="madarasa" ng-model="MemberUpdate.makthab" value="Yes">Yes
                                <input type="radio" name="madarasa" ng-model="MemberUpdate.makthab" value="No">No
                            </div>
                        </div>
                        <div ng-show="MemberUpdate.makthab" class="form-group" style="margin:5px;">
                            <label class="control-label col-xs-7">Makthab Madarasa Category</label>
                            <div class="col-xs-5">
                                <select ng-model="MemberUpdate.makthab_detail" ng-options="val for val in makthabData()" class="form-control">
                                    <option value="">Makthab Category</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" style="margin:5px;">
                            <label class="control-label col-xs-7">Physically Handicaped?</label>
                            <div class="col-xs-5">
                                <input type="radio" name="physical" ng-model="MemberUpdate.physical" value="Yes">Yes
                                <input type="radio" name="physical" ng-model="MemberUpdate.physical" value="No">No
                            </div>
                        </div>
                        <div class="form-group" style="margin:5px;">
                            <label class="control-label col-xs-7">Whether Alive or Not?</label>
                            <div class="col-xs-5">
                                <input type="radio" name="alive" ng-model="MemberUpdate.alive" value="Yes">Yes
                                <input type="radio" name="alive" ng-model="MemberUpdate.alive" value="No">No
                            </div>
                        </div>
                        <div class="form-group" style="margin:5px;">
                            <input type="submit" class="btn btn-primary" ng-click="update_member(MemberUpdate,'continue');" value="Save" />
                            <input type="submit" class="btn btn-primary" ng-click="next=true;" value="Next>>" />
                            <input type="submit" class="btn btn-primary" ng-click="update_member(MemberUpdate,'exit');" value="Save and Exit" />
                        </div>
                    </form>
    </div>
     <div ng-show="next" id="add_watchlist_popup" style="">
            <div class="popup-header">
                <span style="margin-left:35%">Update Member Details </span>
                <span class="ng-modal-close" ng-click="cancel()"><i id="closing" style="font-size:14px;float:right;cursor:pointer;" class="fa fa-times"></i></span>
            </div>
            <accordion ng-init="getScheme();getService();get_memberScheme()">
                    <accordion-group ng-repeat="header in scheme_list">
                            <accordion-heading>
                                <h4 class="panel-title">
                                            <a data-toggle="collapse" style="text-decoration:none;" data-parent="#accordion"  aria-expanded="true" aria-controls="collapseOne">{{header}}</a>
                                        </h4>
                            </accordion-heading>
                            <div class="form-group" ng-repeat="key in getSubScheme[header]">
                                <label class="control-label col-xs-6">{{key.sub}}</label>
                                <input type="radio" ng-model="key.status" value="Yes">Yes
                                <input type="radio" ng-model="key.status" value="No">No
                                <select ng-show="key.status" ng-model="key.solution" ng-options="val for val in ['Solved','Not Yet']" style="width:20%">
                                    <option value="">SELECT SOLUTION</option>
                                </select>
                                <!--<span ng-repeat="a in ['Yes','No']">
                                    <input type="radio" name="{{key.scheme_id}}" ng-change="getMemberScheme(scheme_value,key.scheme_id,Mem_ID)" ng-model="scheme_value" value="{{a}}">{{a}}
                                     {{key.scheme_id}}<input type="radio" name="key.scheme_id" ng-model="key.scheme_id" value="Yes">Yes
                                    <input type="radio" name="key.scheme_id" ng-model="key.scheme_id" value="No">No
                                </span>-->
                            </div>
                    </accordion-group>
                    <accordion-group>
                          <div style="background-color:#F5F5F5 !important;">
                            <accordion-heading>
                                <h4 class="panel-title">
                                            <a data-toggle="collapse" style="text-decoration:none;" data-parent="#accordion"  aria-expanded="true" aria-controls="collapseOne">Services</a>
                                        </h4>
                            </accordion-heading>
                          </div>
                          <div class="form-group" ng-repeat="(key,val) in getServices">
                                <label class="control-label col-xs-6">{{key}}</label>
                                <input type="radio" ng-model="val[0].status" value="Yes">Yes
                                <input type="radio" ng-model="val[0].status" value="No">No
                                <select ng-show="val[0].status" ng-model="val[0].solution" ng-options="val for val in ['Solved','Not Yet']" style="width:20%">
                                    <option value="">SELECT SOLUTION</option>
                                </select>
                                <!--<input type="radio" name="{{getServices[key][0].service_id}}" ng-change="getMemberService(service_value,getServices[key][0].service_id,Mem_ID)" ng-model="service_value" value="Yes">Yes
                                <input type="radio" name="{{getServices[key][0].service_id}}" ng-change="getMemberService(service_value,getServices[key][0].service_id,Mem_ID)" ng-model="service_value" value="No">No-->
                          </div>
                    </accordion-group>
                    <accordion-group>
                          <div style="background-color:#F5F5F5 !important;">
                            <accordion-heading>
                                <h4 class="panel-title">
                                            Disease
                                        </h4>
                            </accordion-heading>
                          </div>
                          <div class="form-group" ng-init="get_memberScheme()">
                                <select ng-change="getDisease(DiseaseValue.sym_type)" style="display: inline-block;height: 34px;width: 40%;float: left;" ng-model="DiseaseValue.sym_type" ng-options="val for val in ['DISEASE','DISORDER']" class="form-control">
                                    <option value="">SELECT TYPE</option>
                                </select>
                                <ui-select style="display: inline-block;height: 34px;width: 60%;float: left;" on-select="getDisease=DiseaseValue.name;get_disease(getDisease)" reset-search-input="false" theme="bootstrap" ng-disabled="" ng-model="DiseaseValue.name">
                                    <ui-select-match placeholder="{{disease_val}}">{{disease_val}}
                                    </ui-select-match>
                                    <ui-select-choices refresh="getDisease=$select.search;get_disease(getDisease)" repeat="mod in disease_list | filter:$select.search">
                                    <div ng-bind-html="mod | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                          </div>
                          <div class="form-group" ng-init="DiseaseValue.name=disease_val">      
                                <input style="display: inline-block;height: 34px;width: 50%;float: left;" type="text" ng-model="DiseaseValue.medicine" placeholder="Medicine Name">
                                <input style="display: inline-block;height: 34px;width: 50%;float: left;" type="text" ng-model="DiseaseValue.cost" placeholder="Medicine Cost">
                          </div>
                    </accordion-group>
                    <accordion-group>
                          <div style="background-color:#F5F5F5 !important;">
                            <accordion-heading>
                                <h4 class="panel-title">
                                            Surgery
                                        </h4>
                            </accordion-heading>
                          </div>
                          <div class="form-group" ng-init='SurgeryValue.surgery_val="No";get_memberScheme();'>
                                <label class="control-label col-xs-6">Surgery Needed?</label>
                                <input type="radio" name="surgery" ng-model="SurgeryValue.surgery_val" value="Yes">Yes
                                <input type="radio" name="surgery" ng-model="SurgeryValue.surgery_val" value="No">No
                          </div>
                          <div ng-show="SurgeryValue.surgery_val" class="form-group">
                                <select ng-change="getDisease(SurgeryValue.sym_type)" style="display: inline-block;height: 34px;width: 40%;float: left;" ng-model="SurgeryValue.sym_type" ng-options="val for val in ['DISEASE','DISORDER']" class="form-control">
                                    <option value="">SELECT TYPE</option>
                                </select>
                                <ui-select style="display: inline-block;height: 34px;width: 60%;float: left;" on-select="getDisease=SurgeryValue.name;sur_get_disease(getDisease)" reset-search-input="false" theme="bootstrap" ng-disabled="" ng-model="SurgeryValue.name">
                                    <ui-select-match placeholder="{{sur_disease_val}}">{{sur_disease_val}}
                                    </ui-select-match>
                                    <ui-select-choices refresh="getDisease=$select.search;sur_get_disease(getDisease)" repeat="mod in disease_list | filter:$select.search">
                                    <div ng-bind-html="mod | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                          </div>
                          <div ng-show="SurgeryValue.surgery_val" class="form-group" ng-init="SurgeryValue.name=sur_disease_val">      
                                <input style="display: inline-block;height: 34px;width: 50%;float: left;" type="text" ng-model="SurgeryValue.operation_cost" placeholder="Operation Cost">
                                <input style="display: inline-block;height: 34px;width: 50%;float: left;" type="text" ng-model="SurgeryValue.cash_hand" placeholder="Cash in Hand">
                                <input style="display: inline-block;height: 34px;width: 50%;float: left;" type="text" ng-model="SurgeryValue.hospital_name" placeholder="Hospital Name">
                                <input style="display: inline-block;height: 34px;width: 50%;float: left;" type="text" ng-model="SurgeryValue.details" placeholder="Surgery Details">
                          </div>
                    </accordion-group>
                    <accordion-group>
                          <div style="background-color:#F5F5F5 !important;">
                            <accordion-heading>
                                <h4 class="panel-title">
                                            Are you ever Cured from Chronic Disease?
                                        </h4>
                            </accordion-heading>
                          </div>
                          <div class="form-group" ng-init='ChronicValue.chronic_val="No";get_memberScheme()'>
                                <label class="control-label col-xs-6">cured from Chronic Disease?</label>
                                <input type="radio" name="chronic" ng-model="ChronicValue.chronic_val" value="Yes">Yes
                                <input type="radio" name="chronic" ng-model="ChronicValue.chronic_val" value="No">No
                          </div>
                          <div ng-show="ChronicValue.chronic_val" class="form-group">
                                <select ng-change="getDisease(ChronicValue.sym_type)" style="display: inline-block;height: 34px;width: 40%;float: left;" ng-model="ChronicValue.sym_type" ng-options="val for val in ['DISEASE','DISORDER']" class="form-control">
                                    <option value="">SELECT TYPE</option>
                                </select>
                                <ui-select style="display: inline-block;height: 34px;width: 60%;float: left;" on-select="getDisease=ChronicValue.name;chr_get_disease(getDisease)" reset-search-input="false" theme="bootstrap" ng-disabled="" ng-model="ChronicValue.name">
                                    <ui-select-match placeholder="{{chr_disease_val}}">{{chr_disease_val}}
                                    </ui-select-match>
                                    <ui-select-choices refresh="getDisease=$select.search;chr_get_disease(getDisease)" repeat="mod in disease_list | filter:$select.search">
                                    <div ng-bind-html="mod | highlight: $select.search"></div>
                                    </ui-select-choices>
                                </ui-select>
                          </div>
                          <div ng-show="ChronicValue.chronic_val" class="form-group" ng-init="ChronicValue.name=chr_disease_val">      
                                <input style="display: inline-block;height: 34px;width: 50%;float: left;" type="text" ng-model="ChronicValue.doctor" placeholder="Doctor Name">
                                <input style="display: inline-block;height: 34px;width: 50%;float: left;" type="text" ng-model="ChronicValue.tot_cost" placeholder="Total Cost for Treatment">
                                <input style="display: inline-block;height: 34px;width: 100%;float: left;" type="text" ng-model="ChronicValue.details" placeholder="Disease Details">
                          </div>
                    </accordion-group>    
            </accordion>                        
            <div class="form-group" style="margin:5px;">
                <input type="submit" class="btn btn-primary" ng-click="next=false" value="<<Previous" />
                <input type="submit" class="btn btn-primary" ng-click="update_memberScheme(getSubScheme,getServices,DiseaseValue,SurgeryValue,ChronicValue,'continue');" value="Save" />
                <input type="submit" class="btn btn-primary" ng-click="update_memberScheme(getSubScheme,getServices,DiseaseValue,SurgeryValue,ChronicValue,'exit');" value="Save and Exit" />
                <!--<input type="submit" class="btn btn-primary" ng-click="update_memberScheme(MemschemeList,MemserviceList,DiseaseValue,SurgeryValue,ChronicValue,'continue');" value="Save" />
                <input type="submit" class="btn btn-primary" ng-click="update_memberScheme(MemschemeList,MemserviceList,DiseaseValue,SurgeryValue,ChronicValue,'exit');" value="Save and Exit" />-->
            </div>
    </div>
    </script>
    <script type="text/ng-template" id="muhalla.html">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Muhallas</h1>
            </div>
            <div class=" col-lg-12">
                <span style="width:25%;float:left;">District</span>
                <span style="width:25%;float:left;">Taluk</span>
                <span style="width:25%;float:left;">Mohalla</span>
                <span style="width:25%;float:left;">Mohalla ID</span>
            </div>
            <div class=" col-lg-12">
                <input style="display: inline-block;height: 34px;width: 25%;float: left;" class="form-control" type="text" ng-model="muhalla_values.district" readonly/>
                <input style="display: inline-block;height: 34px;width: 25%;float: left;" class="form-control" type="text" ng-model="muhalla_values.taluk" readonly/>
                <input style="display: inline-block;height: 34px;width: 25%;float: left;" class="form-control" type="text" ng-model="muhalla_values.mohalla" readonly/>
                <input style="display: inline-block;height: 34px;width: 25%;float: left;" class="form-control" type="text" ng-model="muhalla_values.mohalla_id" readonly/>
            </div>
            <div class="col-lg-12"><br/></div>
            <div class=" col-lg-12">
                <input style="display: inline-block;width: 25%;height: 34px;float: left;" type="text" placeholder="Masjid Name" ng-model="muhalla_values.mohalla" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required">
                <input style="display: inline-block;width: 25%;height: 34px;float: left;" type="text" placeholder="Number of Musallis" ng-model="muhalla_values.musallas" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required">
                <input style="display: inline-block;width: 40%;height: 34px;float: left;" type="text" placeholder="Address" ng-model="muhalla_values.address" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required">
                <button type="submit" style="width:10%;height: 34px;" ng-click="updatemahalla(muhalla_values)" class="btn-sm btn btn-primary">Update</button>
            </div>            
        </div>    
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Members</h1>
            </div>
            <table class="table table-striped table-bordered table-hover ng-scope">
                <thead>
                    <tr>
                        <th>S.No</th>
                        <th>Name</th>
                        <th>Age</th>
                        <th>Post</th>
                        <th>Contact</th>
                        <th>Address</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="ng-scope">                        
                        <td><input type="text" placeholder="1" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required" readonly></td>
                        <td><input class="form-control" type="text" ng-model="member_name" placeholder="Member Name"/></td>
                        <td><input class="form-control" type="text" ng-model="age" valid-number placeholder="Age"/></td>
                        <td><input class="form-control" type="text" ng-model="designation" placeholder="Designation"/></td>
                        <td><input class="form-control" type="text" ng-model="mobile" placeholder="Mobile Number"/></td>
                        <td><input class="form-control" type="text" ng-model="address" placeholder="Address" /></td>                
                        <td><button ng-disabled="!member_name || !designation || !age" type="submit" ng-click="add_member(member_name,age,designation,mobile,address,'new')" class="btn-sm btn btn-primary"><i class="glyphicon glyphicon-plus"></i>Add</button></td>
                    </tr>
                    <tr ng-show="masjid_member_list.length==0">
                        <td colspan="7" style="text-align:center;" class="ng-binding">No Member Data Found!</td>
                    </tr>
                    <tr ng-repeat="member in masjid_member_list" class="ng-scope">
                        <td>{{$index+1}}</td>
                        <td class="ng-binding"><span ng-show="!updateMem">{{member.name}}</span><input style="display: inline-block;height: 34px;width: 200px;float: left;margin-right: -90px;" type="text" ng-show="updateMem" ng-model="member.name"></td>
                        <td class="ng-binding"><span ng-show="!updateMem">{{member.age}}</span><input style="display: inline-block;height: 34px;width: 30px;float: left;" type="text" ng-show="updateMem" ng-model="member.age"></td>
                        <td class="ng-binding"><span ng-show="!updateMem">{{member.designation}}</span><input style="display: inline-block;height: 34px;width: 130px;float: left;margin-right: -65px;" type="text" ng-show="updateMem" ng-model="member.designation"></td>
                        <td class="ng-binding"><span ng-show="!updateMem">{{member.mobile}}</span><input style="display: inline-block;height: 34px;width: 130px;float: left;margin-right: -65px;" type="text" ng-show="updateMem" ng-model="member.mobile"></td>
                        <td class="ng-binding"><span ng-show="!updateMem">{{member.address}}</span><input style="display: inline-block;height: 34px;width: 110px;float: left;margin-right: -45px;" type="text" ng-show="updateMem" ng-model="member.address"></td>
                        <td><a ng-show="!updateMem" ng-click="updateMem=true;" class="color-edit"><i class="glyphicon glyphicon-pencil"></i></a>
                            <a ng-show="updateMem" ng-click="updateMem=false;UpdateMember(muhalla_values.mohalla_id,member,member.name,member.age,member.designation,member.mobile,member.address)" class="color-edit"><i class="glyphicon glyphicon-plus"></i></a>
                            <a ng-confirm-click="Are you Sure you want to Delete?" confirmed-click="DeleteMember(muhalla_values.mohalla_id,member)" class="color-delete"><i class="glyphicon glyphicon-trash"></i></a></td>
                    </tr>
                    <!-- end ngRepeat: cat in categorys track by $index| filter:searchText -->
                </tbody>
            </table>
        </div>
    </script>
    <script type="text/ng-template" id="reports.html">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Reports
                <div ng-hide="ReportValues.report_name == 'Mohalla Report' || ReportValues.report_name == 'Needs Types' || !ReportValues.report_name" style="text-align:center;position:relative;float:right">
                    <span ng-show="report_count == 0">No Data Found!</span>
                    <span ng-show="repr_offset == 0 && report_count<=repr_limit && report_count != 0">{{repr_offset+1}}-{{report_count}} of {{report_count}}</span>
                    <span ng-show="repr_offset == 0 && report_count!=0 && repr_limit<report_count">{{repr_offset+1}}-{{repr_limit}} of {{report_count}}</span>
                    <span ng-show="repr_offset > 0 && report_count!=0 && repr_limit<report_count">{{repr_offset+1}}-{{repr_limit}} of {{report_count}}</span>
                    <span ng-show="repr_offset > 0 && report_count!=0 && repr_limit>=report_count">{{repr_offset+1}}-{{report_count}} of {{report_count}}</span>
                    <span class="btn btn1 btn-primary" style="cursor:pointer;border: 5px solid #428bca;padding: 0px 5px;width:35px;height:30px;text-decoration: none;font-weight: bold;color:#fff;background: rgba(66, 139, 202, 1);" ng-disabled="repr_offset<=0" ng-click="more_report_page(repr_offset,repr_limit,report_count,'sub',ReportDatas,ReportValues);"><i class="fa fa-chevron-left"></i>
                            </span>
                    <span style="cursor:pointer;border: 5px solid #428bca;margin-left:-1%;padding: 0px 5px;width:35px;height:30px;text-decoration: none;font-weight: bold;color:#fff;background: rgba(66, 139, 202, 1);" ng-disabled="(repr_offset+1)>=report_count || repr_limit>=report_count" ng-click="more_report_page(repr_offset,repr_limit,report_count,'add',ReportDatas,ReportValues);" class="btn btn1 btn-primary"><i class="fa fa-chevron-right"></i>
                            </span> 
                </div></h1>
            </div>
            <div class=" col-lg-12">
                <span style="width:16.5%;float:left;margin-left:-30px;">District</span>
                <span style="width:16.5%;float:left;margin-left:7.5px;">Taluk</span>
                <span style="width:16.5%;float:left;margin-left:7.5px;">Mohalla</span>
                <span style="width:16.5%;float:left;margin-left:7.5px;">Mohalla ID</span>
                <span style="width:16.5%;float:left;margin-left:7.5px;">REPORT TYPES</span>
                <span style="width:16.5%;float:left;margin-left:7.5px;">PDF</span>
            </div>
            <div class=" col-lg-12">
                <span style="display: inline-block;height: 34px;width: 16.5%;float: left;margin-left:-30px;"> <input class="form-control" type="text" ng-model="ReportValues.district" readonly/></span>
                <span style="display: inline-block;height: 34px;width: 16.5%;float: left;margin-left:7.5px;"> <input class="form-control" type="text" ng-model="ReportValues.taluk" readonly/></span>
                <span style="display: inline-block;height: 34px;width: 16.5%;float: left;margin-left:7.5px;"> <input class="form-control" type="text" ng-model="ReportValues.muhalla.name" readonly/></span>
                <span style="display: inline-block;height: 34px;width: 16.5%;float: left;margin-left:7.5px;"> <input class="form-control" type="text" ng-model="ReportValues.muhalla_id" readonly/></span>
                <span style="display: inline-block;height: 34px;width: 16.5%;float: left;margin-left:7.5px;"> 
                    <select ng-model="ReportValues.report_name" ng-change="fetchReportAPI(ReportDatas,ReportValues)" ng-options="gen for gen in senses_reports|SortData" class="form-control"><option value="">SELECT REPORT</option>
                    </select>
                </span>    
                <span style="display: inline-block;height: 34px;width: 16.5%;float: left;margin-left:7.5px">
                    <button ng-disabled="!ReportValues.muhalla || !ReportValues.report_name || !load_report_type" ng-click="exportPDF()" type="submit" style="display: inline-block;height: 34px;width: 98%;border-radius: 2px; float: left;" class="btn-sm btn btn-primary"><i class="fa fa-cloud-download"></i>&nbsp;Export</button></a>
                </span>
                <!--<a download="{{get_pdfname}}" href="/static/pdf/{{get_pdfname}}" target="_blank">
                    <button ng-disabled="!ReportValues.muhalla || !ReportValues.report_name || !get_pdfname || !load_report_type">
                </a>-->
            </div>
        <div class="row">
            <div ng-show="list_familyid.length>0">
                <button ng-show="ReportValues.report_name == 'Basic Help Needers List' || ReportValues.report_name == 'Total Family Details' || ReportValues.report_name == 'Own House & Rent House families' || ReportValues.report_name == 'Families Eligible for Jakaath' || ReportValues.report_name == 'Families without toilets'" style="background-color:red;margin-left: 35%;position: relative;" ng-click="performaction('delete',ReportDatas,ReportValues)" class="btn btn-primary"><i class="glyphicon glyphicon-trash"></i> Delete Selected</button>
                <button ng-show="ReportValues.report_name == 'Training/Employment Help and Guidance Needers List' || ReportValues.report_name == 'Educational Help and Guidance Needers List' || ReportValues.report_name == 'Help for Discontinued and Guidance Needers List' || ReportValues.report_name == 'Help for Poor People and Guidance Needers List' || ReportValues.report_name == 'Government Schemes and Guidance Needers Details' || ReportValues.report_name == 'Government Voter ID Needers'" style="background-color:green;position: relative;margin-left:35%;" ng-click="performaction('make_sol',ReportDatas,ReportValues)" class="btn btn-primary"><i class="fa fa-check"></i> Make it solved</button>
                <button ng-show="ReportValues.report_name == 'Families without toilets'" style="background-color:green;position: relative;margin-top:-2%;" ng-click="performaction('make_sol',ReportDatas,ReportValues)" class="btn btn-primary"><i class="fa fa-check"></i> Make it solved</button>
            </div>
            <img src="../static/images/loading.gif" style="margin-left: 25%;" ng-show="loading_perc_gif"/>
            <table ng-show="!loading_perc_gif" class="table table-striped table-bordered table-hover ng-scope">
                <thead>
                    <tr style="cursor:pointer;" class="ng-scope">
                        <th ng-click="header_sort(header,ReportDatas,ReportValues)" ng-repeat="header in ReportHeader">{{header}} <i ng-show="sort_type" class="fa fa-sort-amount-asc"></i> <i ng-show="!sort_type" class="fa fa-sort-amount-desc"></i></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-show="ReportValues.report_name == 'Mohalla Report'" ng-repeat="(key,val) in getReportData" class="ng-scope">
                        <td>{{$index+1}}</td>
                        <td ng-show="key!='Mother Tongue'" class="ng-binding">{{key}} {{getReportData.length}}</td>
                        <!--<td ng-show="key=='Mother Tongue'" class="ng-binding">
                            <table>
                                <tr>
                                 <td rowspan="3" style="border:1px solid #ccc">{{key}}</td>
                                 <td>
                                 <td style="border:1px solid #ccc">a</td>
                                 <td style="border:1px solid #ccc">b</td>
                                 <td style="border:1px solid #ccc">c</td>
                                 </td>
                                </tr>
                            </table>
                        </td>-->        
                        <td class="ng-binding">{{val}}</td>
                    </tr>
                    <tr ng-show="ReportValues.report_name == 'Needs Types' && getReportData.length!=0" bindonce ng-repeat="key in getReportData" class="ng-scope">
                        <td>{{$index+1}}</td>
                        <td>{{key.need_id}}</td>
                        <td>{{key.name}}</td>
                        <td>{{key.total}}</td>
                        <td>{{key.beneficiaries}}</td>
                    </tr>
                    <tr ng-show="ReportValues.report_name != 'Mohalla Report' && getReportData.length==0" class="ng-scope">
                        <td colspan="7">No Data Found!</td>
                    </tr>
                    <tr ng-show="ReportValues.report_name == 'Total Family Details' || ReportValues.report_name == 'Own House & Rent House families' && getReportData.length!=0" ng-repeat="key in getReportData" class="ng-scope">
                        <td>{{$index+1}} <input type="checkbox" ng-model="checkboxval" ng-true-value="1" ng-false-value="0" ng-checked="checkboxval == 1" ng-click="dosomething(checkboxval,key)"></td>
                        <td>{{key.family_head}} <br/> {{key.address}} </td>
                        <td>{{key.age}} <br/> {{key.gender}} </td>
                        <td>{{key.familyid}} <br/> {{key.mobile}} </td>
                        <td>{{key.financial_status.split(' ')[0]}} <br/> {{get_jakaath_status(key.financial_status.split(' ')[0])}} </td>
                    </tr>
                    <tr ng-show="ReportValues.report_name == 'Families Eligible for Jakaath' || ReportValues.report_name == 'Government Voter ID Needers' || ReportValues.report_name == 'Families without toilets' && getReportData.length!=0" ng-repeat="key in getReportData" class="ng-scope">
                        <td>{{$index+1}}<input type="checkbox" ng-model="checkboxval" ng-true-value="1" ng-false-value="0" ng-checked="checkboxval == 1" ng-click="dosomething(checkboxval,key)"></td>
                        <td>{{key.family_head}}</td>
                        <td>{{key.age}} <br/> {{key.gender}} </td>
                        <td>{{key.financial_status.split(' ')[0]}} <br/> {{key.familyid}} </td>
                        <td>{{key.mobile}} </td>
                        <td> {{key.address}} </td>
                    </tr>
                    <tr ng-show="ReportValues.report_name == 'Basic Help Needers List' && getReportData.length!=0" ng-repeat="key in getReportData" class="ng-scope">
                        <td>{{$index+1}}<input type="checkbox" ng-model="checkboxval" ng-true-value="1" ng-false-value="0" ng-checked="checkboxval == 1" ng-click="dosomething(checkboxval,key)"></td>
                        <td>{{key.family_head}} <br/> {{key.address}}</td>
                        <td>{{key.age}} <br/> {{key.gender}} </td>
                        <td>{{key.financial.split(' ')[0]}} <br/> {{key.familyid}} </td>
                        <td>{{key.mobile}} </td>
                        <td> Help for Basic Needs(Food,Dress,Place) </td>
                    </tr>
                    <tr ng-show="ReportValues.report_name == 'Help for Poor People and Guidance Needers List' || ReportValues.report_name == 'Medical Needs and Guidance Needers Details' || ReportValues.report_name == 'Government Schemes and Guidance Needers Details' && getReportData.length!=0" ng-repeat="key in getReportData" class="ng-scope">
                        <td>{{$index+1}} <input type="checkbox" ng-model="checkboxval" ng-true-value="1" ng-false-value="0" ng-checked="checkboxval == 1" ng-click="dosomething(checkboxval,key)"></td>
                        <td>{{key.name}} <br/> {{key.address}}</td>
                        <td>{{key.age}} <br/> {{key.gender}} </td>
                        <td>{{key.financial.split(' ')[0]}} <br/> {{key.familyid}} </td>
                        <td>{{key.mobile}} </td>
                        <td> {{key.needer}} for<br/>{{key.needs}} </td>
                    </tr>
                    <tr ng-show="ReportValues.report_name == 'Training/Employment Help and Guidance Needers List' || ReportValues.report_name == 'Educational Help and Guidance Needers List' || report_name == 'Help for Discontinued and Guidance Needers List' && getReportData.length!=0" ng-repeat="key in getReportData" class="ng-scope">
                        <td>{{$index+1}}<input type="checkbox" ng-model="checkboxval" ng-true-value="1" ng-false-value="0" ng-checked="checkboxval == 1" ng-click="dosomething(checkboxval,key)"></td>
                        <td>{{key.name}} <br/> {{key.address}}</td>
                        <td>{{key.age}} <br/> {{key.gender}} </td>
                        <td>{{key.financial.split(' ')[0]}} <br/> {{key.familyid}} </td>
                        <td>{{key.mobile}} </td>
                        <td> {{key.needs}} <br/> Qualification: {{key.qualification}} </td>
                    </tr>
                    <tr ng-show="ReportValues.report_name == 'Childrens Need to join Makthab Madarasa' || report_name == 'Persons Need to join Jumrah Madarasa' && getReportData.length!=0" ng-repeat="key in getReportData" class="ng-scope">
                        <td>{{$index+1}} <input type="checkbox" ng-model="checkboxval" ng-true-value="1" ng-false-value="0" ng-checked="checkboxval == 1" ng-click="dosomething(checkboxval,key)"></td>
                        <td>{{key.name}} <br/> {{key.address}}</td>
                        <td>{{key.age}} <br/> {{key.gender}} </td>
                        <td>{{key.financial.split(' ')[0]}} <br/> {{key.familyid}} </td>
                        <td>{{key.mobile}} </td>
                        <td> {{key.needs}} <br/> Qualification: {{key.qualification}} </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </script>
    {% endverbatim %}
    <script src="{{STATIC_URL}}js/jquery/jquery-2.0.3.min.js"></script>
    <script src="{{STATIC_URL}}bootstrap/js/bootstrap.min.js"></script>
    <script src="{{STATIC_URL}}js/angular/angular.min.js"></script>
    <script src="{{STATIC_URL}}js/angular/ui-bootstrap-tpls.js"></script>
    <script src="{{STATIC_URL}}js/angular/angular-cookies.min.js"></script>
    <script src="{{STATIC_URL}}js/angular/angular-route.min.js"></script>
    <script src="{{STATIC_URL}}js/angular/angular-sanitize.min.js"></script>
    <script src="{{STATIC_URL}}js/underscore.js"></script>
    <script src="{{STATIC_URL}}js/select.js"></script>
    <script src="{{STATIC_URL}}js/mohuser.js"></script>
    <script type="text/javascript">
        $('.menu').on("click", function () {
        $('.sel').removeClass('sel');
        $(this).addClass('sel');
    });
    </script>
    </body>
    </html> 